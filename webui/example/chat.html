<!DOCTYPE html>
<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    </head>

    <body>

        <div id="demo">

            <h1>Sonja Web Client</h1>

            Comando:<br>
            <input type="text" id="command" size="50">
            <button type="button"
                onclick="loadDoc(myFunction)">Invia
            </button><br>
            <textarea id="dialog"
                      cols="50"
                      rows="100"
                      style="resize:none; margin: 0px; height: 331px; width: 377px;">
            </textarea>


        </div>

        <script language="javascript" type="text/javascript">


        function loadDoc(cFunction)
        {
            var xhttp;
            var base;
            var url;
            var par;
            var x;
            xhttp=new XMLHttpRequest();
            xhttp.onreadystatechange = function()
            {
                if (this.readyState == 4 && this.status == 200)
                {
                    cFunction(this);
                }
            };
          par = document.getElementById("command").value;
          base="http://192.168.1.111:8080/httpcmd?comando=";
          url=base.concat(par);
          console.log(url);
          xhttp.open("GET", url, true);
          xhttp.send();
        }
        function myFunction(xhttp) {
          document.getElementById("dialog").value=xhttp.responseText;
        }

        </script>
    </body>
</html>
